<html>
<head>
<title>Create and configure your application in Apigee Source</title>
</head>
<body>
<div class="step">
	<h1>Step 1: Create an application</h1>
	<p>
		An application is a collection of one or more APIs that are accessed by an application. You already have an account, so let's start by setting up your first app.
	</p>
	<p>Type:</p>
	<p class="console">
		create app <span>yourappname</span>
	</p>
</div>
<div class="step">
	<h1>Step 2: Add an API provider to this application</h1>
	<p>
		Now that you've created an application, you'll use an Apigee SmartKey to store and manage your application credentials. Your SmartKey will make it easy to sign API calls for Twitter in your application.
	</p>
	<p>
		<em>Apigee Source only supports the Twitter API, so this is the API you'll be adding. </em>
	</p>
	<p>Type:</p>
	<p class="console">
		<span>yourappname</span> add provider twitter
	</p>
</div>
<div class="step">
	<h1>Step 3: Add Twitter consumer token and secret to your application</h1>
	<p>
		Now that you've added Twitter to your application SmartKey, you need to sign in to dev.twitter.com, register an application, set it up, and retrieve your consumer token and secret.
	</p>
	<p>
		When you have retrieved your consumer token and secret, type:
	</p>
	<p class="console">
		<span>yourappname</span> configure twitter <span>token</span> <span>secret</span>
	</p>
	<p>
		Note: In order to retrieve your Twitter consumer token and consumer secret, you'll need to:
	</p>
	<ol>
		<li>Sign in to <a href="https://dev.twitter.com/apps" title="dev.twitter.com" target="_blank">dev.twitter.com</a> (opens in a new window)</li>
		<li>Create a new application</li>
		<li>Set application type: Browser</li>
		<li>Set the callback url to be: <em>https://yourappname-api.apigee.com/authcallback/twitter</em></li>
		<li>Set default access type: Read/write</li>
		<li>Set default access type: Read/write</li>
		<li>Once you've registered, go to settings and you'll see your Consumer Token and Secret.</li>
	</ol>
</div>
<div class="step">
	<h1>Step 4: Add a User</h1>
	<p>
		In order to validate that you can make an API request with your Source application, you'll want to create a user and associate it with a Twitter account.
	</p>
	<p>
		A user needs a unique username (email address ok) and password. These will be mapped to a SmartKey. 
	</p>
	<p>
		You'll use a SmartKey to authorize all API calls on behalf of a user. 
	</p>
	<p>Type:</p>
	<p class="console">
		<span>yourappname</span> add user <span>username</span> <span>password</span>
	</p>
	<p>
		Follow the link to begin the OAuth dance.
	</p>
</div>
<div class="step">
	<h1>Step 5: Add credentials to the SmartKey</h1>
	<p>
		Sign in with Twitter and and make this application trusted, you'll be redirected back to Apigee Source setup and your Twitter credentials will be displayed.
	<p>Once you have your credentials, type:</p>
	<p class="console">
		<span>yourappname</span> add twitter <span>access_token</span> <span>access_token_secret</span> to smartkey <span>SmartKey-string</span>
	</p>
</div>
<div class="step">
	<h1>Step 6: Make an authenticated request to the Twitter API</h1>
	<p>
		Now that your SmartKey has stored the Twitter credentials for this end-user, you can make an authenticated request to validate that your source application is up and running.
	<p>Type:</p>
	<p class="console">
		<span>yourappname</span> get https://<span>yourappname</span>-api.apigee.com/twitter/1/statuses/home_timeline.json?smartkey=<span>smartkey</span>
	</p>
	<h2>Go forth and applicate!</h2>
	<p>Now that you know how to make a request using Apigee Source: </p>
	<ol>
		<li><a title="&el; or fork the repo" target="_blank" href="https://github.com/apigee/Apigee-Source-for-JavaScript">Download the library from Github</a></li>
		<li>Paste your endpoint into the sample application</li>
		<li>Host your sample application</li>
		<li>Log in using the end user you created above, or register as a new end user of the sample application (if you choose the latter, you'll also have to grant permission with Twitter)</li>
		<li>See the Source app working!</li>
	</ol>
</div>
</body>
</html>